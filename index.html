<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‘ê·¼ë‘ê·¼! ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ âœŠâœ‹âœŒï¸</title>
    <style>
        /* ê²Œì„ í™”ë©´ ê¾¸ë¯¸ëŠ” ìŠ¤íƒ€ì¼ì´ì—ìš”! */
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin-top: 50px;
            background-color: #f0f0f0; /* ë°°ê²½ìƒ‰ ì‚´ì§ì¿µ ë„£ì–´ë´¤ì–´ìš”! */
            color: #333;
        }
        h1 {
            color: #333;
        }
        #game-container {
            margin-top: 30px;
            padding: 20px;
            background-color: #fff; /* í•˜ì–€ìƒ‰ ë°°ê²½ ìƒì */
            border-radius: 10px; /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* ê·¸ë¦¼ì íš¨ê³¼ */
            display: inline-block; /* ë‚´ìš©ë§Œí¼ë§Œ ë„ˆë¹„ ì°¨ì§€ */
            min-width: 300px; /* ìƒì ìµœì†Œ ë„ˆë¹„ ì„¤ì • */
        }
        #choices {
            margin-bottom: 20px;
            font-size: 1.2em;
            min-height: 3em; /* ì„ íƒ ê²°ê³¼ ìë¦¬ê°€ í”ë“¤ë¦¬ì§€ ì•Šê²Œ ìµœì†Œ ë†’ì´ ì„¤ì • */
        }
        #buttons button {
            font-size: 1.5em;
            padding: 10px 20px;
            margin: 0 5px; /* ë²„íŠ¼ ê°„ ê°„ê²© ì¡°ì • */
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50; /* ì´ˆë¡ìƒ‰ ë²„íŠ¼! */
            color: white;
            transition: background-color 0.3s ease; /* ë¶€ë“œëŸ¬ìš´ ìƒ‰ ë³€í™” */
        }
        #buttons button:hover {
            background-color: #45a049; /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ìƒ‰ê¹” ìƒ¥! */
        }
        #buttons button:active {
            background-color: #397d3c; /* í´ë¦­í•˜ëŠ” ìˆœê°„ ìƒ‰ê¹” ì§„í•˜ê²Œ */
        }
         #buttons button:disabled {
            background-color: #cccccc; /* ë¹„í™œì„±í™” ìƒ‰ìƒ */
            cursor: not-allowed; /* ë§ˆìš°ìŠ¤ ì»¤ì„œ ë³€ê²½ */
        }
        #result {
            margin-top: 20px;
            font-size: 1.6em; /* ê²°ê³¼ëŠ” ì¢€ ë” í¬ê²Œ! */
            font-weight: bold;
            min-height: 1.8em; /* ê²°ê³¼ ìë¦¬ê°€ í”ë“¤ë¦¬ì§€ ì•Šê²Œ ìµœì†Œ ë†’ì´ ì„¤ì • */
            color: #333; /* ê¸°ë³¸ ê¸€ì ìƒ‰ */
        }
        #result.win { color: #28a745; } /* ìŠ¹ë¦¬ ì‹œ ì´ˆë¡ìƒ‰ */
        #result.lose { color: #dc3545; } /* íŒ¨ë°° ì‹œ ë¹¨ê°„ìƒ‰ */
        #result.draw { color: #ffc107; } /* ë¹„ê¹€ ì‹œ ì£¼í™©ìƒ‰ */


        #timer {
            margin-top: 15px;
            font-size: 1.2em;
            font-weight: bold;
            color: #e91e63; /* íƒ€ì´ë¨¸ëŠ” ë¹¨ê°„ìƒ‰! */
        }
         #timer.time-critical {
            color: #ff0000; /* ì‹œê°„ì´ ì–¼ë§ˆ ì•ˆ ë‚¨ì•˜ì„ ë•Œ ë” ë¹¨ê°›ê²Œ */
            animation: pulse 1s infinite; /* ê¹œë¹¡ì„ íš¨ê³¼ */
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1;}
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1;}
        }

        #restart-button {
            margin-top: 20px;
            font-size: 1.2em;
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #007bff; /* íŒŒë€ìƒ‰ ë²„íŠ¼ */
            color: white;
             transition: background-color 0.3s ease; /* ë¶€ë“œëŸ¬ìš´ ìƒ‰ ë³€í™” */
            display: none; /* ì²˜ìŒì—ëŠ” ìˆ¨ê²¨ë†”ìš” */
        }
         #restart-button:hover {
            background-color: #0056b3;
         }
    </style>
</head>
<body>

    <h1>ë‘ê·¼ë‘ê·¼! ê°€ìœ„ë°”ìœ„ë³´ ê²Œì„ âœŠâœ‹âœŒï¸</h1>

    <div id="game-container">
        <div id="choices">
            <p>ë‚´ ì„ íƒ: <span id="user-choice">???</span></p>
            <p>ì»´í“¨í„° ì„ íƒ: <span id="computer-choice">???</span></p>
        </div>

        <div id="buttons">
            <button id="scissors-btn">ê°€ìœ„ âœŒï¸</button>
            <button id="rock-btn">ë°”ìœ„ âœŠ</button>
            <button id="paper-btn">ë³´ âœ‹</button>
        </div>

        <div id="result">
            ê²Œì„ ì‹œì‘!
        </div>

        <div id="timer">
            ë‚¨ì€ ì‹œê°„: 5ì´ˆ
        </div>

         <button id="restart-button">ë‹¤ì‹œ í•˜ê¸° ğŸ‘‹</button>
    </div>

    <script>
        // HTML ìš”ì†Œë“¤ì„ ê°€ì ¸ì™€ì„œ ë³€ìˆ˜ì— ì €ì¥í•´ìš”.
        const $userChoice = document.querySelector('#user-choice');
        const $computerChoice = document.querySelector('#computer-choice');
        const $result = document.querySelector('#result');
        const $timer = document.querySelector('#timer');
        const $buttons = document.querySelectorAll('#buttons button'); // ëª¨ë“  ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼
        const $restartButton = document.querySelector('#restart-button'); // ë‹¤ì‹œ í•˜ê¸° ë²„íŠ¼

        let timerId = null; // íƒ€ì´ë¨¸ IDë¥¼ ì €ì¥í•  ë³€ìˆ˜
        let timeLeft = 5; // ë‚¨ì€ ì‹œê°„ì„ ì €ì¥í•  ë³€ìˆ˜ (ì´ˆ)
        let gameEnded = false; // ê²Œì„ì´ ì¢…ë£Œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë³€ìˆ˜

        // ì»´í“¨í„°ì˜ ê°€ìœ„ë°”ìœ„ë³´ ì„ íƒì„ ë°°ì—´ë¡œ ë§Œë“¤ì–´ë‘¬ìš”.
        const computerChoices = ['rock', 'paper', 'scissors']; // ë°”ìœ„, ë³´, ê°€ìœ„ ìˆœì„œ (ì˜ë¬¸ ì´ë¦„)

        // ì˜ë¬¸ ì„ íƒ ê°’ì„ í•œê¸€ê³¼ ì´ëª¨ì§€ë¡œ ë°”ê¿”ì£¼ëŠ” í•¨ìˆ˜
        function getChoiceKorean(choice) {
            if (choice === 'rock') return 'ë°”ìœ„ âœŠ';
            if (choice === 'paper') return 'ë³´ âœ‹';
            if (choice === 'scissors') return 'ê°€ìœ„ âœŒï¸';
            return '???'; // ì•Œ ìˆ˜ ì—†ì„ ë•Œ
        }

        // ìŠ¹íŒ¨ë¥¼ íŒì •í•˜ëŠ” í•¨ìˆ˜ì˜ˆìš”.
        function determineWinner(user, computer) {
            // userì™€ computerëŠ” 'rock', 'paper', 'scissors' ë¬¸ìì—´
            if (user === computer) {
                $result.classList.remove('win', 'lose');
                $result.classList.add('draw');
                return "ë¹„ê²¼ì–´ìš”! ğŸ¤";
            }
            // ìŠ¹ë¦¬ ì¡°ê±´: (ë‚˜: ê°€ìœ„, ì»´: ë³´), (ë‚˜: ë°”ìœ„, ì»´: ê°€ìœ„), (ë‚˜: ë³´, ì»´: ë°”ìœ„)
            if ((user === 'scissors' && computer === 'paper') ||
                (user === 'rock' && computer === 'scissors') ||
                (user === 'paper' && computer === 'rock')) {
                $result.classList.remove('lose', 'draw');
                 $result.classList.add('win');
                return "ìŠ¹ë¦¬! ğŸ‰ ì¶•í•˜í•´ìš”!";
            }
            // ê·¸ ì™¸ëŠ” ëª¨ë‘ íŒ¨ë°°
            $result.classList.remove('win', 'draw');
            $result.classList.add('lose');
            return "íŒ¨ë°°... ğŸ˜­ ì•„ì‰¬ì›Œìš”!";
        }

        // ê²Œì„ì„ ëë‚´ê³  ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” í•¨ìˆ˜ì˜ˆìš”.
        // ì´ í•¨ìˆ˜ëŠ” ì‚¬ìš©ìê°€ ì„ íƒí–ˆê±°ë‚˜ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆì„ ë•Œ í˜¸ì¶œë©ë‹ˆë‹¤.
        function endGame(userChoice = null) { // userChoiceê°€ nullì´ë©´ ì‹œê°„ ì´ˆê³¼
            if (gameEnded) return; // ì´ë¯¸ ê²Œì„ì´ ëë‚¬ìœ¼ë©´ ë¬´ì‹œ

            clearInterval(timerId); // íƒ€ì´ë¨¸ ë©ˆì¶¤!
            gameEnded = true; // ê²Œì„ ì¢…ë£Œ ìƒíƒœë¡œ ë³€ê²½

            // ëª¨ë“  ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼ ë¹„í™œì„±í™”
            $buttons.forEach(button => button.disabled = true);
             $timer.classList.remove('time-critical'); // í˜¹ì‹œ ë‚¨ì•„ìˆì„ ê¹œë¹¡ì„ ì œê±°


            // ì»´í“¨í„° ì„ íƒ (ëœë¤ìœ¼ë¡œ í•˜ë‚˜ ê³ ë¥´ê¸°)
            const computerChoice = computerChoices[Math.floor(Math.random() * computerChoices.length)];
             $computerChoice.textContent = getChoiceKorean(computerChoice); // í™”ë©´ì— ì»´í“¨í„° ì„ íƒ í‘œì‹œ


            let resultMessage = "";

            if (userChoice === null) {
                // ì‹œê°„ ì´ˆê³¼ì¸ ê²½ìš°
                resultMessage = "ì‹œê°„ ì´ˆê³¼! ğŸ˜µ íŒ¨ë°°...";
                 $userChoice.textContent = '???'; // ë‚´ ì„ íƒì€ ???
                 $result.classList.remove('win', 'draw');
                 $result.classList.add('lose'); // ì‹œê°„ ì´ˆê³¼ëŠ” íŒ¨ë°°

            } else {
                 // ì‚¬ìš©ìê°€ ì‹œê°„ ì•ˆì— ì„ íƒí•œ ê²½ìš°
                 $userChoice.textContent = getChoiceKorean(userChoice); // í™”ë©´ì— ë‚´ ì„ íƒ í‘œì‹œ
                // ìŠ¹íŒ¨ íŒì •
                resultMessage = determineWinner(userChoice, computerChoice);
            }

            $result.textContent = `ê²Œì„ ê²°ê³¼: ${resultMessage}`; // ìµœì¢… ê²°ê³¼ ë©”ì‹œì§€ í‘œì‹œ

            $restartButton.style.display = 'block'; // ë‹¤ì‹œ í•˜ê¸° ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
        }

        // ì‚¬ìš©ìê°€ ê°€ìœ„/ë°”ìœ„/ë³´ ë²„íŠ¼ì„ í´ë¦­í–ˆì„ ë•Œ ì‹¤í–‰ë  í•¨ìˆ˜ì˜ˆìš”.
        function handleButtonClick(event) {
            if (gameEnded || timeLeft <= 0) { // ì´ë¯¸ ê²Œì„ì´ ëë‚¬ê±°ë‚˜ ì‹œê°„ì´ ë‹¤ ë˜ì—ˆìœ¼ë©´ ë¬´ì‹œ
                return;
            }

            // ì–´ë–¤ ë²„íŠ¼ì„ ëˆŒë €ëŠ”ì§€ í™•ì¸í•´ì„œ ì‚¬ìš©ì ì„ íƒ ê°’ì„ ê°€ì ¸ì™€ìš”.
            const userChoice = event.target.id.replace('-btn', ''); // ì˜ˆ: 'scissors-btn' -> 'scissors'

            // ê²Œì„ ëë‚´ê³  ê²°ê³¼ ë³´ì—¬ì£¼ê¸° (ì‚¬ìš©ì ì„ íƒ ê°’ì„ ë„˜ê²¨ì¤Œ)
            endGame(userChoice); // ì´ í•¨ìˆ˜ ì•ˆì—ì„œ íƒ€ì´ë¨¸ ë©ˆì¶”ê³ , ì»´í“¨í„° ì„ íƒí•˜ê³ , íŒì •ê¹Œì§€ ë‹¤ í•´ìš”!
        }

        // íƒ€ì´ë¨¸ê°€ 0ì´ ë˜ì—ˆì„ ë•Œ í˜¸ì¶œë  í•¨ìˆ˜ (setInterval ì•ˆì—ì„œ ì‚¬ìš©)
        function handleTimeout() {
             if (!gameEnded) { // ì•„ì§ ê²Œì„ì´ ëë‚˜ì§€ ì•Šì•˜ìœ¼ë©´ (ì‹œê°„ ì´ˆê³¼)
                 endGame(null); // ì‹œê°„ ì´ˆê³¼ë¡œ endGame í˜¸ì¶œ (ì‚¬ìš©ì ì„ íƒ null)
             }
        }


        // íƒ€ì´ë¨¸ë¥¼ ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ì˜ˆìš”.
        function startTimer() {
            gameEnded = false; // ê²Œì„ ì¢…ë£Œ ìƒíƒœ ì´ˆê¸°í™”
            timeLeft = 5; // ì‹œê°„ ì´ˆê¸°í™”
            $timer.textContent = `ë‚¨ì€ ì‹œê°„: ${timeLeft}ì´ˆ`; // í™”ë©´ì— ì‹œê°„ í‘œì‹œ ì—…ë°ì´íŠ¸
            $timer.classList.remove('time-critical'); // ìœ„í—˜ ì‹œê°„ ìŠ¤íƒ€ì¼ ì œê±°
             $result.textContent = 'ê²Œì„ ì‹œì‘!'; // ê²°ê³¼ ë©”ì‹œì§€ ì´ˆê¸°í™”
             $result.classList.remove('win', 'lose', 'draw'); // ê²°ê³¼ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
             $userChoice.textContent = '???'; // ë‚´ ì„ íƒ ì´ˆê¸°í™”
             $computerChoice.textContent = '???'; // ì»´í“¨í„° ì„ íƒ ì´ˆê¸°í™”
             $restartButton.style.display = 'none'; // ë‹¤ì‹œ í•˜ê¸° ë²„íŠ¼ ìˆ¨ê¹€

             // ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼ ë‹¤ì‹œ í™œì„±í™”
             $buttons.forEach(button => button.disabled = false);

            // ê¸°ì¡´ íƒ€ì´ë¨¸ê°€ ìˆë‹¤ë©´ ë©ˆì¶”ê³  ìƒˆë¡œ ì‹œì‘
            if (timerId) {
                clearInterval(timerId);
            }

            timerId = setInterval(() => {
                timeLeft--; // 1ì´ˆ ê°ì†Œ
                $timer.textContent = `ë‚¨ì€ ì‹œê°„: ${timeLeft}ì´ˆ`; // í™”ë©´ ì—…ë°ì´íŠ¸

                 // ë‚¨ì€ ì‹œê°„ì´ 2ì´ˆ ì´í•˜ë©´ ë¹¨ê°„ìƒ‰ ê²½ê³  ìŠ¤íƒ€ì¼ ì ìš©
                if (timeLeft <= 2) {
                    $timer.classList.add('time-critical');
                }

                if (timeLeft <= 0) {
                    handleTimeout(); // ì‹œê°„ì´ 0ì´ ë˜ë©´ ì‹œê°„ ì´ˆê³¼ ì²˜ë¦¬ í•¨ìˆ˜ í˜¸ì¶œ
                }
            }, 1000); // 1000 ë°€ë¦¬ì´ˆ = 1ì´ˆë§ˆë‹¤ ì‹¤í–‰
        }

        // ê° ê°€ìœ„ë°”ìœ„ë³´ ë²„íŠ¼ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë‹¬ì•„ì¤˜ìš”.
        $buttons.forEach(button => {
            button.addEventListener('click', handleButtonClick);
        });

        // ë‹¤ì‹œ í•˜ê¸° ë²„íŠ¼ì— í´ë¦­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë‹¬ì•„ì¤˜ìš”.
         $restartButton.addEventListener('click', startTimer);

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê²Œì„ ë°”ë¡œ ì‹œì‘!
        startTimer();
    </script>

</body>
</html>